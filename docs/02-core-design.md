# 코어 게임 디자인

## 코어 루프

게임의 핵심 사이클은 **"부모의 준비 → 아들의 집 생활 → 출발 → 모험 → 귀환"** 으로 구성된다.

```
┌─────────────────────────────────────────────────────────┐
│                    ◆ 코어 루프 ◆                         │
│                                                         │
│  [1] 부모: 준비 활동                                      │
│      대장간(장비 제작/강화) / 요리(음식) /                   │
│      연금술(포션) / 농장(재료 수확)                          │
│              │                                          │
│              ▼                                          │
│  [2] 아들: 집에서 자율 행동 (AI)                           │
│      침대(수면→HP회복) / 허수아비(훈련→EXP) /                │
│      식탁(식사→배고픔회복) / 책상(독서→랜덤스탯) /             │
│      의자(휴식→소량HP) / 포션 음용(버프)                     │
│              │                                          │
│              ▼                                          │
│  [3] 아들: 출발 조건 충족 시 최적 장비 착용 → 모험 출발       │
│      (배고픔 ≥ 80% AND HP ≥ 80%)                         │
│              │                                          │
│              ▼                                          │
│  [4] 모험 중 (3~5분 실시간)                               │
│      편지 수신 / 부모는 계속 준비 활동 가능                   │
│              │                                          │
│              ▼                                          │
│  [5] 아들 귀환: 보상 획득 (재료, 골드, 씨앗 등)              │
│      부상 상태일 수 있음                                   │
│              │                                          │
│              ▼                                          │
│         [1]로 돌아감 (보상 재료로 더 좋은 장비/음식 제작)      │
└─────────────────────────────────────────────────────────┘
```

### 루프 상세 설명

| 단계 | 소요 시간 (체감) | 핵심 행위 | 긴장/재미 요소 |
|------|----------------|----------|--------------|
| 1. 부모 준비 | 자유 (계속 가능) | 크래프팅, 농사, 재료 배치 | 전략적 선택: 무엇을 먼저 만들까? |
| 2. 아들 집 생활 | 30초~2분 | 관찰, 아들이 알아서 행동 | 아들이 내가 준비한 것을 쓸까? |
| 3. 출발 | 즉시 | 장비 자동 착용, 출발 연출 | 충분히 준비했나? 긴장의 순간 |
| 4. 모험 | 3~5분 실시간 | 편지 읽기, 다음 사이클 준비 | 아들이 무사할까? 편지의 서사 |
| 5. 귀환 | 즉시 | 보상 확인, 아들 상태 확인 | 보상의 쾌감, 부상 시 안도/걱정 |

---

## 플레이어 액션 (부모)

부모(유저)는 아들을 직접 조종할 수 없다. 오직 **환경을 준비**하는 것만 가능하다.

### 액션 총괄표

| 액션 | 장소 | 설명 | 입력 방식 | 결과물 |
|------|------|------|----------|--------|
| 장비 제작 | 대장간 | 재료를 소비하여 무기/방어구/악세서리 제작 | 레시피 선택 → 제작 버튼 클릭 | 장비 아이템 |
| 장비 강화 | 대장간 | 기존 장비 + 강화 재료로 스탯 업그레이드 | 장비 선택 + 재료 투입 → 강화 클릭 | 강화된 장비 |
| 장비 가챠 | 대장간 | 특수 재료를 소비하여 랜덤 등급 장비 획득 | 가챠 버튼 클릭 | 랜덤 장비 |
| 요리 | 주방 | 농산물/재료로 음식 제작 | 레시피 선택 → 요리 버튼 클릭 | 음식 아이템 |
| 포션 양조 | 연금술 작업대 | 약초로 포션 제작 | 레시피 선택 → 양조 버튼 클릭 | 포션 아이템 |
| 씨앗 심기 | 농장 | 씨앗을 밭에 심음 | 빈 밭 클릭 → 씨앗 선택 | 심은 작물 (타이머 시작) |
| 작물 수확 | 농장 | 다 자란 작물 수확 | 다 자란 작물 클릭 | 농산물 재료 |
| 아이템 배치 | 집 | 음식을 식탁에, 포션을 선반에, 장비를 장비대에 배치 | 아이템 → 가구로 드래그 또는 클릭 | 아들이 사용 가능한 상태 |
| 책 배치 | 집 | 책을 책상에 놓음 | 책 → 책상으로 배치 | 아들이 독서 가능 |

### 장소별 상세

#### 대장간

| 카테고리 | 설명 |
|---------|------|
| 제작 | 레시피 목록에서 선택, 필요 재료 소비, 즉시 완성 |
| 강화 | 장비 선택 → 강화석 + 골드 소비 → 성공/실패 (성공률 감소) |
| 가챠 | 특수 광석 3개 소비 → 랜덤 등급(일반~희귀) 장비 1개 획득 |

**장비 등급 시스템**:

| 등급 | 색상 | 기본 스탯 배율 | 가챠 확률 |
|------|------|--------------|----------|
| 일반 (Common) | 회색 | x1.0 | 60% |
| 고급 (Uncommon) | 초록 | x1.3 | 25% |
| 희귀 (Rare) | 파랑 | x1.7 | 12% |
| 영웅 (Epic) | 보라 | x2.2 | 3% |

**장비 제작 레시피 (프로토타입)**:

| 장비명 | 슬롯 | 재료 | 기본 효과 | 해금 레벨 |
|--------|------|------|----------|----------|
| 나무 검 | 무기 | 나무 x3, 골드 x10 | STR +3 | 초기 |
| 철 검 | 무기 | 철광석 x3, 나무 x1, 골드 x30 | STR +7 | Lv.5 |
| 미스릴 검 | 무기 | 미스릴 x2, 철광석 x2, 골드 x80 | STR +14, AGI +3 | Lv.12 |
| 가죽 갑옷 | 방어구 | 가죽 x3, 골드 x15 | DEF +3 | 초기 |
| 철 갑옷 | 방어구 | 철광석 x4, 가죽 x1, 골드 x40 | DEF +8 | Lv.5 |
| 미스릴 갑옷 | 방어구 | 미스릴 x3, 철광석 x2, 골드 x100 | DEF +16, HP +20 | Lv.12 |
| 부적 | 악세서리 | 약초 x2, 보석 x1, 골드 x20 | INT +3 | 초기 |
| 민첩의 반지 | 악세서리 | 보석 x2, 골드 x35 | AGI +5 | Lv.5 |
| 생명의 펜던트 | 악세서리 | 보석 x3, 약초 x3, 골드 x60 | HP +30, DEF +2 | Lv.12 |

**장비 강화**:

| 강화 단계 | 필요 강화석 | 골드 비용 | 성공률 | 스탯 증가 |
|----------|-----------|----------|--------|----------|
| +1 | 1 | 20 | 100% | 기본의 +10% |
| +2 | 2 | 40 | 90% | 기본의 +20% |
| +3 | 3 | 70 | 75% | 기본의 +35% |
| +4 | 4 | 110 | 55% | 기본의 +55% |
| +5 | 6 | 160 | 35% | 기본의 +80% |

실패 시 장비는 유지되며 재료만 소비된다. (프로토타입에서는 파괴 없음)

#### 주방

| 음식명 | 재료 | 효과 | 비고 |
|--------|------|------|------|
| 빵 | 밀 x2 | 배고픔 +20 | 기본 음식 |
| 야채 수프 | 감자 x1, 당근 x1 | 배고픔 +35, HP +5 | |
| 고기 스튜 | 고기 x2, 감자 x1 | 배고픔 +50, STR 임시+2 (1모험) | |
| 과일 파이 | 사과 x2, 밀 x1 | 배고픔 +30, HP +15 | |
| 영웅의 도시락 | 고기 x2, 밀 x2, 사과 x1 | 배고픔 +70, 전 스탯 임시+1 (1모험) | 최고급 |

**음식 배치 규칙**: 식탁에는 최대 5개의 음식을 놓을 수 있다. 아들은 배가 고프면 식탁의 음식을 자동으로 먹는다. (가장 효과 좋은 것부터 소비)

#### 연금술 작업대

| 포션명 | 재료 | 효과 | 지속 |
|--------|------|------|------|
| 체력 포션 | 붉은 약초 x2 | HP +30 즉시 | 즉시 |
| 힘의 영약 | 푸른 약초 x2, 몬스터 이빨 x1 | STR +5 임시 | 1모험 |
| 수호의 영약 | 노란 약초 x2, 몬스터 껍질 x1 | DEF +5 임시 | 1모험 |
| 신속의 영약 | 푸른 약초 x1, 노란 약초 x1 | AGI +5 임시 | 1모험 |
| 지혜의 영약 | 붉은 약초 x1, 푸른 약초 x1, 보석 x1 | INT +5 임시 | 1모험 |
| 만능 비약 | 붉은 약초 x2, 푸른 약초 x2, 노란 약초 x2 | 전 스탯 +3 임시 | 1모험 |

**포션 배치 규칙**: 포션 선반에는 최대 3개의 포션을 놓을 수 있다. 아들은 모험 출발 직전에 포션을 자동으로 마신다.

#### 농장

밭은 총 **4칸**이며, 각 칸에 씨앗을 심을 수 있다.

| 작물 | 씨앗 | 성장 시간 (실시간) | 수확물 | 수확량 |
|------|------|-------------------|--------|--------|
| 밀 | 밀 씨앗 | 30초 | 밀 | 2~3개 |
| 감자 | 감자 씨앗 | 45초 | 감자 | 2개 |
| 당근 | 당근 씨앗 | 45초 | 당근 | 2개 |
| 사과나무 | 사과 씨앗 | 60초 | 사과 | 1~2개 |
| 붉은 약초 | 붉은 약초 씨앗 | 50초 | 붉은 약초 | 1~2개 |
| 푸른 약초 | 푸른 약초 씨앗 | 50초 | 푸른 약초 | 1~2개 |
| 노란 약초 | 노란 약초 씨앗 | 50초 | 노란 약초 | 1~2개 |

**농장 메카닉**:
- 씨앗을 심으면 타이머 시작, 시간이 되면 "수확 가능" 표시
- 수확하면 작물 + 확률적으로 씨앗 1개 추가 획득 (50%)
- 밭이 비면 언제든 새 씨앗을 심을 수 있음
- 초기 보유 씨앗: 밀 x5, 감자 x3, 붉은 약초 x3

---

## 아들 AI 행동 시스템

아들은 플레이어가 조종할 수 없는 **자율 NPC**이다. 집에 있을 때 자신의 상태에 따라 행동을 결정한다.

### 아들 상태 값

| 스탯 | 초기값 | 최대값 | 설명 |
|------|--------|--------|------|
| HP | 100 | 100 + (Level x 10) | 생명력. 0이 되면 모험 실패 귀환 |
| 배고픔 (Hunger) | 100 | 100 | 포만감. 100이 만복, 0이 극도 공복 |
| STR (힘) | 5 | 없음 | 공격력에 영향 |
| DEF (방어) | 3 | 없음 | 방어력에 영향 |
| AGI (민첩) | 3 | 없음 | 회피율, 선제 공격에 영향 |
| INT (지능) | 2 | 없음 | 마법 관련 보너스, 전리품 감별 |
| Level | 1 | 20 | 성장 단계 |
| EXP | 0 | Level별 상이 | 경험치 |

**배고픔 감소**: 시간 경과에 따라 자동으로 감소한다.
- 집에서 활동 중: 분당 -5
- 모험 중: 자동 처리 (모험 결과에 반영)

**HP 자연 감소**: 집에서는 감소하지 않음. 모험에서만 감소.

### 아들 행동 우선순위 (Decision Tree)

아들은 **2초마다** 행동을 결정한다. 아래 우선순위를 따른다:

```
[매 2초마다 판정]
│
├─ HP <= 0? → (이 상태로 집에 오지 않음, 모험 실패로 자동 귀환)
│
├─ HP < 30%? → 체력 포션이 선반에 있으면 → 포션 마시기
│              없으면 → 침대에서 수면 (HP 회복)
│
├─ 배고픔 < 20%? → 식탁에 음식 있으면 → 식사
│                   없으면 → 의자에서 휴식 (약간 HP 회복, 배고픔 감소 멈춤)
│
├─ 출발 조건 체크: 배고픔 >= 80% AND HP >= 80%?
│   ├─ YES → 포션 선반 확인 → 버프 포션 마시기 → 최적 장비 착용 → 모험 출발
│   └─ NO → 아래 행동 중 선택
│
├─ HP < 80%? → 침대에서 수면 (HP 회복)
│
├─ 배고픔 < 80%? → 식탁에 음식 있으면 → 식사
│
├─ 책상에 책이 있으면? → 30% 확률로 독서 선택
│
├─ 훈련 가능? → 허수아비에서 훈련 (EXP 획득)
│
└─ 위 조건 모두 해당 없음 → 의자에서 휴식 (랜덤 대사)
```

### 아들 행동 상세

| 행동 | 장소 | 소요 시간 | 효과 | 애니메이션/표시 |
|------|------|----------|------|---------------|
| 수면 | 침대 | 5초 | HP +15 | 💤 zzZ 표시, 누워있는 모션 |
| 식사 | 식탁 | 3초 | 음식 효과 적용 (배고픔/HP) | 🍽️ 냠냠 표시, 앉아서 먹는 모션 |
| 훈련 | 허수아비 | 4초 | EXP +8~12 (랜덤) | ⚔️ 휘두르기 모션, 데미지 수치 표시 |
| 독서 | 책상 | 6초 | 랜덤 스탯 +1 (STR/DEF/AGI/INT 중) | 📖 책 넘기기 모션 |
| 휴식 | 의자 | 3초 | HP +5, 배고픔 감소 정지 | 😌 편안한 모션, 랜덤 대사 |
| 포션 음용 | 포션 선반 | 2초 | 포션 효과 적용 | 🧪 마시기 모션, 버프 이펙트 |
| 장비 착용 | 장비대 | 즉시 | 장비 스탯 적용 | 장비 교체 연출 |

### 아들 대사 시스템

아들은 행동 중 랜덤으로 대사를 출력한다. 성격: 활기차고 엉뚱하며 자신만만한 소년.

| 상황 | 대사 예시 |
|------|----------|
| 식사 시작 | "오! 맛있겠다!", "엄마(아빠) 요리 최고!" |
| 식사 (음식 없을 때) | "배고프다...", "뭐 먹을 거 없나?" |
| 훈련 시작 | "하앗! 오늘도 강해지자!", "이 정도면 드래곤도 이기겠지?" |
| 독서 시작 | "음... 어려운데?", "오호, 이런 기술이?!" |
| 수면 | "zzZ...", "5분만 더..." |
| 휴식 | "잠깐 쉬자~", "영웅도 쉴 때가 필요해!" |
| 출발 직전 | "다녀올게요!", "오늘은 대박날 거야!" |
| 부상 상태 | "으으... 조금 아파", "괜찮아, 이 정도 쯤이야!" |
| 포션 마시기 | "꿀꺽! 힘이 솟는다!", "맛은 좀 그렇지만..." |

### 아들 출발 조건 & 절차

**출발 조건** (모두 충족 시):
1. 배고픔 >= 80 (100 기준)
2. HP >= 현재 최대 HP의 80%
3. 모든 행동 완료 상태 (행동 중이 아님)

**출발 절차**:
1. 포션 선반에 버프 포션이 있으면 마신다 (체력 포션 제외, 버프 포션만)
2. 장비대에서 각 슬롯별 최고 스탯 장비를 자동 착용
3. 출발 대사 출력
4. 출발 연출 (문을 열고 나가는 모션)
5. 화면이 "모험 중" 상태로 전환

**중요**: 부모가 아무리 좋은 장비/음식을 만들어도, 아들이 출발 조건을 충족하면 **즉시 나간다**. 부모의 핵심 딜레마는 "아들이 나가기 전에 충분히 준비할 수 있는가"이다.

---

## 아들 모험 시스템

### 모험 개요

아들이 집을 떠나면 **3~5분(실시간)** 동안 모험을 한다. 이 시간 동안 부모는 다음 사이클을 준비할 수 있다.

### 모험 시간 결정

| 아들 레벨 | 모험 시간 | 전투 횟수 | 비고 |
|----------|----------|----------|------|
| 1~3 | 3분 | 2~3회 | 초반, 짧은 모험 |
| 4~7 | 3분 30초 | 3~4회 | 중반 |
| 8~12 | 4분 | 4~5회 | |
| 13~17 | 4분 30초 | 5~6회 | |
| 18~20 | 5분 | 6~7회 | 고레벨, 긴 모험 |

### 모험 결과 판정

모험은 실시간으로 진행되지만 전투 과정을 직접 보여주지는 않는다. 내부적으로 아래 로직으로 결과를 판정한다.

**전투력 계산**:
```
전투력 = (STR x 2) + (DEF x 1.5) + (AGI x 1.2) + (INT x 0.8)
         + 무기 보너스 + 방어구 보너스 + 악세서리 보너스 + 포션 버프
```

**개별 전투 판정** (각 전투마다):

| 조건 | 결과 | HP 소모 | 보상 배율 |
|------|------|--------|----------|
| 전투력 > 적 전투력 x 1.5 | 완승 | 0~5% 최대HP | x1.2 |
| 전투력 > 적 전투력 | 승리 | 5~15% 최대HP | x1.0 |
| 전투력 > 적 전투력 x 0.7 | 신승 | 15~30% 최대HP | x0.8 |
| 전투력 <= 적 전투력 x 0.7 | 패배 | 30~50% 최대HP | x0.3 |

**적 전투력 범위** (레벨별):

| 아들 레벨 | 적 전투력 범위 | 보스 등장 확률 |
|----------|--------------|--------------|
| 1~3 | 10~25 | 10% (마지막 전투) |
| 4~7 | 25~50 | 15% |
| 8~12 | 50~90 | 20% |
| 13~17 | 90~150 | 25% |
| 18~20 | 150~250 | 30% |

보스 전투: 적 전투력 x1.8, 보상 x2.5

**모험 종료 조건**:
- 모든 전투 완료 → 정상 귀환
- HP가 0 이하 → 즉시 귀환 (실패), 보상 50% 감소, HP 1로 복구

### 편지 시스템

모험 중 아들은 **30초~1분 간격**으로 편지를 보낸다. 편지는 현재 모험 상태를 반영한다.

**편지 구조**:
```
[아들의 편지 #N]
────────────────
(본문 텍스트)

[상태 아이콘: ❤️ HP% / ⚔️ 전투 N회 완료]
```

**편지 내용 풀 (상황별)**:

| 상황 | 편지 예시 |
|------|----------|
| 모험 시작 | "출발했어요! 오늘 날씨가 좋아서 기분이 좋아요~" |
| 전투 완승 | "방금 고블린을 한 방에 쓰러뜨렸어요! 이 검 진짜 좋다!" |
| 전투 승리 | "슬라임 물리쳤어요. 좀 끈적해졌지만 괜찮아요!" |
| 전투 신승 | "으으... 오크가 생각보다 강했어요. 근데 이겼다!" |
| 전투 패배 | "아야... 늑대한테 좀 당했어요. 괜찮으니 걱정 마세요." |
| HP 낮음 | "조금 힘든데... 집에 가면 엄마(아빠) 밥 먹고 싶어요." |
| 보물 발견 | "반짝이는 게 있어서 주워왔어요! 뭔지는 모르겠지만..." |
| 보스 조우 | "앞에 엄청 큰 게 있어요...! 가볼게요!" |
| 귀환 중 | "모험 끝! 지금 집으로 돌아가는 중이에요~" |

### 모험 보상

**기본 보상 테이블** (전투 1회당):

| 보상 아이템 | 드롭 확률 | 수량 | 비고 |
|------------|----------|------|------|
| 골드 | 100% | 5~15 x 레벨 보정 | 기본 재화 |
| 몬스터 이빨 | 40% | 1~2 | 포션 재료 |
| 몬스터 껍질 | 35% | 1~2 | 포션 재료 |
| 가죽 | 30% | 1~2 | 장비 재료 |
| 철광석 | 25% | 1~2 | 장비 재료 |
| 약초 (랜덤 색) | 45% | 1~3 | 포션/연금 재료 |
| 씨앗 (랜덤) | 20% | 1 | 농장용 |
| 고기 | 35% | 1~2 | 요리 재료 |

**희귀 보상** (보스 또는 특수 조건):

| 보상 아이템 | 획득 조건 | 수량 |
|------------|----------|------|
| 미스릴 | 보스 처치 (50%) | 1 |
| 보석 | 보스 처치 (40%) | 1 |
| 강화석 | 레벨 5+ 전투 승리 (15%) | 1 |
| 특수 광석 (가챠용) | 레벨 8+ 보스 처치 (30%) | 1 |
| 레시피 (음식/포션) | 레벨 5+ 보스 처치 (20%) | 1 |
| 책 | 보스 처치 (25%) | 1 |

**EXP 보상** (전투 1회당):

| 전투 결과 | EXP 획득량 |
|----------|-----------|
| 완승 | 15 + (적 레벨 x 3) |
| 승리 | 20 + (적 레벨 x 4) |
| 신승 | 25 + (적 레벨 x 5) |
| 패배 | 5 + (적 레벨 x 1) |

---

## 승리/패배 조건

### 프로토타입 목표

이 게임은 명시적인 엔딩이 있는 구조가 아니라 반복 루프 게임이다. 프로토타입에서는 아래를 목표로 한다:

**장기 목표**: 아들을 레벨 20까지 키워 "진정한 영웅"으로 만들기

**단기 목표 (매 사이클)**:
- 아들이 모험에서 무사 귀환하도록 충분히 준비하기
- 더 좋은 장비와 아이템을 확보하기

### 실패 상태

| 상태 | 조건 | 결과 |
|------|------|------|
| 모험 실패 | 모험 중 HP 0 이하 | 아들이 빈손 귀환 (보상 50%), HP 1 상태 |
| 아사 위기 | 배고픔 0 지속 10초 | 아들 HP 초당 -5, "배고파요..." 반복 대사 |

**게임 오버는 없다.** 아들이 모험에 실패해도 집으로 돌아온다. 부모는 언제든 다시 준비할 수 있다. 이것이 "부모의 사랑"이라는 게임의 핵심 메시지이다.

### 마일스톤 이벤트

| 아들 레벨 | 이벤트 | 설명 |
|----------|--------|------|
| 5 | "첫 보스 처치!" | 아들이 처음으로 보스를 이겼다는 특별 편지 |
| 10 | "모험가 인정" | 아들이 모험가 길드에 정식 등록됨 |
| 15 | "소문난 영웅" | 마을 사람들이 아들을 알아본다는 편지 |
| 20 | "진정한 영웅" | 엔딩 연출 — 아들이 왕에게 훈장을 받고 돌아옴 |

---

## 핵심 수치 (밸런스 초안)

### 아들 레벨업 테이블

| 레벨 | 필요 EXP | 누적 EXP | HP 증가 | 스탯 포인트 (자동 분배) |
|------|---------|---------|--------|---------------------|
| 1→2 | 50 | 50 | +10 | STR+1, DEF+1 |
| 2→3 | 80 | 130 | +10 | STR+1, AGI+1 |
| 3→4 | 120 | 250 | +10 | DEF+1, INT+1 |
| 4→5 | 170 | 420 | +15 | STR+2, DEF+1 |
| 5→6 | 230 | 650 | +15 | AGI+1, INT+1, STR+1 |
| 6→7 | 300 | 950 | +15 | DEF+2, AGI+1 |
| 7→8 | 380 | 1330 | +15 | STR+1, DEF+1, AGI+1, INT+1 |
| 8→9 | 470 | 1800 | +20 | STR+2, DEF+2 |
| 9→10 | 570 | 2370 | +20 | 전 스탯 +1 |
| 10→11 | 700 | 3070 | +20 | STR+2, AGI+2 |
| 11→12 | 850 | 3920 | +20 | DEF+2, INT+2 |
| 12→13 | 1020 | 4940 | +25 | STR+2, DEF+1, AGI+1 |
| 13→14 | 1210 | 6150 | +25 | STR+1, DEF+2, INT+1 |
| 14→15 | 1420 | 7570 | +25 | 전 스탯 +2 |
| 15→16 | 1660 | 9230 | +30 | STR+3, AGI+2 |
| 16→17 | 1930 | 11160 | +30 | DEF+3, INT+2 |
| 17→18 | 2230 | 13390 | +30 | STR+2, DEF+2, AGI+2 |
| 18→19 | 2560 | 15950 | +35 | 전 스탯 +2 |
| 19→20 | 2920 | 18870 | +40 | 전 스탯 +3 |

### 전투력 예상치 (레벨별, 장비 미착용 기준)

| 레벨 | STR | DEF | AGI | INT | HP | 전투력 (추정) |
|------|-----|-----|-----|-----|----|-------------|
| 1 | 5 | 3 | 3 | 2 | 100 | 20.2 |
| 5 | 10 | 6 | 5 | 4 | 155 | 38.0 |
| 10 | 16 | 11 | 10 | 8 | 260 | 63.0 |
| 15 | 24 | 19 | 17 | 14 | 385 | 99.6 |
| 20 | 36 | 30 | 28 | 24 | 570 | 153.8 |

### 초기 보유 자원

| 아이템 | 수량 | 비고 |
|--------|------|------|
| 골드 | 50 | 기본 재화 |
| 나무 | 5 | 대장간 기본 재료 |
| 밀 씨앗 | 5 | 농장용 |
| 감자 씨앗 | 3 | 농장용 |
| 붉은 약초 씨앗 | 3 | 농장용 |
| 밀 | 4 | 즉시 요리 가능 |
| 빵 | 2 | 즉시 식탁 배치 가능 |
| 나무 검 (일반) | 1 | 초기 장비 |
| 낡은 가죽옷 (일반, DEF+1) | 1 | 초기 장비 |
| 초급 전사 가이드 (책) | 1 | 독서 가능 |

### 재화 획득/소비 밸런스 (1사이클 기준, 레벨 1~3)

| 재화 | 1사이클 획득 (예상) | 1사이클 소비 (예상) | 순수익 |
|------|-------------------|-------------------|--------|
| 골드 | 30~90 | 10~30 (제작/강화) | +20~60 |
| 몬스터 소재 | 2~5 | 0~2 (포션) | +0~5 |
| 약초 | 2~6 (모험+농장) | 2~4 (포션) | +0~4 |
| 철광석 | 0~2 | 0~3 (장비 제작) | -3~+2 |
| 농산물 | 4~8 (농장) | 2~6 (요리) | +0~6 |
| 씨앗 | 1~3 (모험+수확보너스) | 2~4 (심기) | -3~+1 |

**밸런스 핵심 의도**: 초반에는 재료가 약간 부족하여 "무엇을 먼저 만들까" 선택을 강요한다. 레벨이 오르면 보상이 넉넉해지며 다양한 제작이 가능해진다.

---

## 난이도 설계

### 난이도 곡선

게임은 **자연스러운 난이도 상승**을 따른다. 아들이 레벨업하면 더 강한 적을 만나게 되며, 부모는 더 좋은 장비/음식/포션을 제공해야 한다.

| 구간 | 레벨 | 난이도 | 부모 핵심 활동 | 아들 상태 |
|------|------|--------|--------------|----------|
| 튜토리얼 | 1~3 | 쉬움 | 빵 굽기, 나무 검 제작, 기본 농사 | 대부분 무사 귀환 |
| 초중반 | 4~7 | 보통 | 철 장비 제작, 다양한 요리, 포션 시작 | 가끔 부상 귀환 |
| 중반 | 8~12 | 어려움 | 장비 강화 필수, 영약 제조, 효율적 농사 | 준비 부족 시 실패 빈번 |
| 후반 | 13~17 | 높음 | 미스릴 장비, 만능 비약, 최적 빌드 추구 | 완벽 준비 아니면 위험 |
| 엔드 | 18~20 | 최고 | 가챠 장비, +5 강화, 영웅 도시락 | 최고 장비로도 긴장감 유지 |

### 실패 복구 메카닉

아들이 모험에 실패해도 게임이 끝나지 않는다. 오히려 실패가 새로운 동기를 부여한다:
- 실패 시에도 일부 재료(50%)를 가져옴
- 돌아온 아들의 부상 상태가 부모의 케어 욕구를 자극
- 다음엔 더 잘 준비해주고 싶은 감정적 동기

### 핵심 텐션 포인트

1. **시간 압박**: 아들의 배고픔과 HP가 80%를 넘으면 곧장 떠남 → 부모는 준비를 서둘러야 함
2. **자원 선택**: 제한된 재료로 장비/음식/포션 중 무엇을 우선할 것인가
3. **강화 도박**: 강화 성공률이 점점 낮아짐 → 안전하게 +2까지 vs 위험하게 +5 도전
4. **아들의 불확실성**: 편지로만 상태를 짐작할 수 있음 → 결과를 기다리는 긴장감
5. **농장 타이밍**: 어떤 작물을 심을 것인가? 모험 보상으로 얻기 힘든 재료 위주?

---

## 메타 시스템 접점

| 이벤트 | 메타로 전달하는 데이터 | 설명 |
|--------|---------------------|------|
| 전투 승리/패배 | EXP, 골드, 드롭 아이템 | 코어 전투 결과 → 메타 성장/경제 |
| 아들 레벨업 | 레벨, 스탯 증가 | 코어 성장 → 메타 마일스톤 체크 |
| 장비 제작/강화 | 장비 아이템, 재화 소비 | 코어 크래프팅 → 메타 경제 순환 |
| 음식/포션 제작 | 소비 아이템, 재료 소비 | 코어 크래프팅 → 메타 재화 소비 |
| 농장 수확 | 농산물, 씨앗 획득 | 코어 생산 → 메타 재화 공급 |
| 모험 완료 | 보상 전체 목록, 소요 시간 | 코어 보상 → 메타 진행도 업데이트 |
| 마일스톤 달성 | 레벨, 이벤트 유형 | 코어 진행 → 메타 언락 (레시피 등) |

### 메타에서 코어로 돌아오는 영향

| 메타 요소 | 코어에 미치는 영향 | 설명 |
|----------|------------------|------|
| 레시피 해금 | 새 장비/음식/포션 제작 가능 | 진행에 따라 제작 가능 품목 확장 |
| 도구 업그레이드 | 제작 효율 증가 (프로토타입 스코프 밖) | 미래 확장용 접점 |
| 아들 칭호 | 스탯 소폭 보너스 (프로토타입 스코프 밖) | 미래 확장용 접점 |
| 집 확장 | 식탁/선반 슬롯 증가 (프로토타입 스코프 밖) | 미래 확장용 접점 |

---

## 개발자 전달 사항

### 구현 우선순위

| 우선순위 | 기능 | 설명 |
|---------|------|------|
| P0 | 아들 AI 행동 시스템 | Decision Tree 기반, 2초 틱 판정, 행동 애니메이션 |
| P0 | 집 화면 (메인 허브) | 침대/식탁/허수아비/책상/의자/장비대/포션선반 배치 |
| P0 | 장비 제작 (대장간) | 레시피 선택 → 재료 확인 → 제작 |
| P0 | 요리 (주방) | 레시피 선택 → 재료 확인 → 제작 |
| P0 | 모험 시스템 | 타이머 + 전투 판정 + 보상 계산 + 귀환 |
| P0 | 아이템 배치 | 식탁에 음식, 선반에 포션, 장비대에 장비 놓기 |
| P1 | 편지 시스템 | 모험 중 30초~1분 간격 편지 팝업 |
| P1 | 포션 양조 (연금술) | 레시피 선택 → 재료 확인 → 제작 |
| P1 | 농장 | 씨앗 심기 → 타이머 → 수확 |
| P1 | 장비 강화 | 강화석+골드 → 성공/실패 판정 |
| P2 | 장비 가챠 | 특수 광석 → 랜덤 등급 장비 |
| P2 | 마일스톤 이벤트 | 레벨별 특수 연출 |
| P2 | 아들 대사 시스템 | 상황별 랜덤 대사 표시 |

### 기술 고려 사항

1. **게임 틱 시스템**: `setInterval` 또는 `requestAnimationFrame` 기반으로 2초 틱 구현. 아들 AI, 배고픔 감소, 농장 타이머 등 모든 시간 기반 시스템을 하나의 게임 루프에서 관리.

2. **상태 관리**: 아래 전역 상태를 관리해야 한다.
   - `sonState`: HP, 배고픔, 스탯, 레벨, EXP, 장착 장비, 현재 행동, 위치
   - `inventory`: 재료, 장비, 음식, 포션 보유 목록
   - `homeState`: 식탁 음식[], 포션 선반[], 장비대[], 책상 책[]
   - `farmState`: 밭 4칸의 상태(비어있음/성장중/수확가능), 타이머
   - `adventureState`: 모험 중 여부, 남은 시간, 전투 로그, 편지 목록

3. **UI 레이아웃**: 집 화면이 메인이다. 대장간/주방/연금술/농장은 탭 또는 사이드 패널로 접근. 아들의 행동은 집 화면 중앙에서 실시간으로 보여야 한다.

4. **에셋 독립적 구현**: 이미지 에셋이 없어도 이모지/텍스트로 모든 기능이 동작해야 한다. 에셋은 나중에 교체 가능하도록 컴포넌트 분리.

5. **localStorage 자동 저장**: 상태 변경 시마다 자동 저장. 새로고침해도 진행 상태 유지.

### 핵심 구현 주의 사항

- **아들 AI는 절대 부모의 입력으로 조종되면 안 된다**. 아들은 순수하게 자신의 Decision Tree로만 행동한다. 부모는 환경(아이템 배치)만 바꿀 수 있다.
- **모험 중에도 부모 활동은 계속 가능**해야 한다. 모험은 백그라운드 타이머로 진행.
- **배고픔 시스템은 게임의 핵심 시간 압박 요소**이다. 분당 -5씩 감소하므로, 완전 만복(100)에서 출발 조건(80) 이상을 유지하는 동안 부모가 준비할 시간은 약 4분이다. 이 시간 감각이 매우 중요하다.
- **출발 조건 충족 시 즉시 출발**: 아들이 현재 행동을 마친 후 다음 틱에서 출발 판정을 한다. 부모가 "더 준비하고 싶어도" 아들은 기다려주지 않는다. 이것이 핵심 텐션이다.
